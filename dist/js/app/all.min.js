/*! panels 2013-09-01 */
!function(a,b,c){"use strict";function d(b,c){this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.$element=a(b),this.init()}var e="menuButton",f={propertyName:"value"};d.prototype={constructor:d,init:function(){this.toggle()},toggle:function(){"show"===this.$element.data("dropdown")?this.hideMenu():this.showMenu()},showMenu:function(){this.$element.data("dropdown","show"),this.$element.find("ul").show(),this.$overlay?this.$overlay.show():(this.$overlay=a('<div class="button-overlay"></div>'),this.$element.append(this.$overlay))},hideMenu:function(){this.$element.data("dropdown","hide"),this.$element.find("ul").hide(),this.$overlay.hide()}},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)?a.data(this,"plugin_"+e).toggle():a.data(this,"plugin_"+e,new d(this,b))})},a(c).on("click","[data-buttons=dropdown]",function(b){var c=a(b.currentTarget);c.menuButton()}),a(c).on("click","[data-buttons=dropdown] > a",function(a){a.preventDefault()})}(jQuery,window,document),function(){"use strict";Backbone.emulateHTTP=!0,Backbone.sync=function(a,b,c){c=c||{};var d={type:"POST",dataType:"jsonp",data:b.toJSON(a,b),url:b.url},e=_.extend(d,c);return $.ajax(e)},window.Unicorn={Models:{},Views:{},Utils:{}}}(),function(){"use strict";Unicorn.Utils.Zip={lastButtonsArgs:{},generateCustomGrids:function(){},generateCustomButtons:function(a,b){this.lastButtonsArgs.buttonsCss=a||"",this.lastButtonsArgs.optionsScss=b||"";var c=new XMLHttpRequest;c.open("GET","/Buttons/Buttons-Custom.zip",!0),c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined"),c.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var a=new JSZip(this.responseText);a.file("css/buttons.css",Unicorn.Utils.Zip.lastButtonsArgs.buttonsCss),a.file("scss/partials/_options.scss",Unicorn.Utils.Zip.lastButtonsArgs.optionsScss);try{console.log("generating blob");var b=a.generate({type:"blob"}),c=$(".button-download a"),d=$(".button-generated a"),e=$(".button-generated");$(d).attr("download","Buttons-Custom.zip"),$(d).attr("href",window.URL.createObjectURL(b)),$(c).hide(),$(e).removeClass("hide")}catch(f){d.innerHTML+=" (not supported on this browser)"}}},c.send()}}}(),function(){"use strict";Unicorn.Models.Button=Backbone.Model.extend({url:"http://localhost:5000/build",defaults:function(){return{$namespace:".button",$glow_namespace:".glow",$glow_color:"#2c9adb",$bgcolor:"#CCC",$height:"32px","$font-color":"#666","$font-size":"14px","$font-weight":"300","$font-family":"'HelveticaNeue-Light', 'Helvetica Neue Light', 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif","$dropdown-background":"#fcfcfc","$dropdown-link-color":"#333","$dropdown-link-hover":"#FFF","$dropdown-link-hover-background":"#3c6ab9",$button_actions:{primary:"#00A1CB #FFF",action:"#7db500 #FFF",highlight:"#F18D05 #FFF",caution:"#E54028 #FFF",royal:"#87318C #FFF"},$button_styles:["rounded","pill","circle"],$button_sizes:["large","small","tiny"],"$circle-size":"120px"}},parse:function(a){var b={css:"",options:""};return a&&a.buttonsCss&&a.optionsScss&&(b.css=a.buttonsCss,b.options=a.optionsScss),b},initialize:function(){}})}(),function(){"use strict";Unicorn.Views.Menu=Backbone.View.extend({events:{"click .button-download a":"download"},initialize:function(){this.listenTo(this.model,"change",this.updateComplete),this.render()},render:function(){return this},updateComplete:function(){var a=this.model.toJSON();a&&a.css&&a.options&&Unicorn.Utils.Zip.generateCustomButtons(a.css,a.options),console.log(a)},download:function(a){a.preventDefault(),this.model.save()}})}(),function(){"use strict";Unicorn.Views.Showcase=Backbone.View.extend({initialize:function(){this.codebox=this.$("pre"),this.gallery=this.$(".gallery"),this.listenTo(this.model,"change",this.render)},render:function(){var a=this.model.toJSON();return this.updateButtons(a),this.updateCodePreview(a),this},updateButtons:function(){},updateCodePreview:function(){var a=this._encodeHTML(this.gallery.html());this.codebox.html(a),prettyPrint()},_encodeHTML:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}})}(),function(){"use strict";Unicorn.Views.App=Backbone.View.extend({initialize:function(){this.listenTo(this.model,"change",this.updateGlobalStyles),this.render()},render:function(){return this.menubar=new Unicorn.Views.Menu({el:$(".menu-bar"),model:this.model}),this.showcases=$(".showcase"),_.each(this.showcases,this.createShowCase,this),this},createShowCase:function(a){new Unicorn.Views.Showcase({model:this.model,el:a})},updateGlobalStyles:function(){var a=this.model.get("css"),b=$("#custom-styles");b.text(a),prettyPrint()}}),$(document).ready(function(){prettyPrint(),new Unicorn.Views.App({model:new Unicorn.Models.Button})})}(),$(document).ready(function(){var a={init:function(){this.buttons=$("#main-nav a"),this.activateNav(),this.disableDemoButtons()},activateNav:function(){var a=this;this.buttons.click(function(b){b.preventDefault();var c=$(b.currentTarget),d=c.attr("href");a.buttons.parent().removeClass("selected"),c.parent().addClass("selected"),$("html, body").animate({scrollTop:$(d).offset().top-100},"slow")})},disableDemoButtons:function(){$(".showcase [href^=#]").on("click",function(a){a.preventDefault()})}};a.init()});